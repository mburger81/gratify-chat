<ion-header>
  <ion-toolbar>
    <ion-title>Confirm swap</ion-title>
    <ion-buttons slot="end">
      <ion-button
          *ngIf="uniswapDappSharedLogic.miningTransaction?.status === transactionStatus.completed"
          (click)="uniswapDappSharedLogic.hideTransaction()"
      >
        <ion-icon name="close-sharp"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-justify-content-center">
      <ion-card class="ion-justify-content-center"
        *ngIf="
          uniswapDappSharedLogic.miningTransaction?.status ===
            transactionStatus.waitingForConfirmation ||
          uniswapDappSharedLogic.miningTransaction?.status ===
            transactionStatus.mining ||
          uniswapDappSharedLogic.miningTransaction?.status ===
            transactionStatus.completed
        "
      >
        <div
          *ngIf="
            uniswapDappSharedLogic.miningTransaction?.status !==
            transactionStatus.completed
          "
        >
          <svg
            class="uni-ic__modal-transaction__state__loading-spinner"
            width="94"
            height="94"
            viewBox="0 0 94 94"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M92 47C92 22.1472 71.8528 2 47 2C22.1472 2 2 22.1472 2 47C2 71.8528 22.1472 92 47 92"
              stroke="#2172E5"
              stroke-width="3"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </div>
        <div>
          <div>
            <span
              *ngIf="
                uniswapDappSharedLogic.miningTransaction?.status ===
                transactionStatus.waitingForConfirmation
              "
              >Waiting For Confirmation</span
            >
            <span
              *ngIf="
                uniswapDappSharedLogic.miningTransaction?.status ===
                transactionStatus.mining
              "
              >Mining</span
            >

            <span
              *ngIf="
                uniswapDappSharedLogic.miningTransaction?.status ===
                transactionStatus.completed
              "
              >Swap complete</span
            >
          </div>
          <div>
            <div>
              <span
                *ngIf="
                  uniswapDappSharedLogic.miningTransaction?.status ===
                    transactionStatus.waitingForConfirmation ||
                  uniswapDappSharedLogic.miningTransaction?.status ===
                    transactionStatus.mining
                "
                >Swapping</span
              >
              <span
                *ngIf="
                  uniswapDappSharedLogic.miningTransaction?.status ===
                  transactionStatus.completed
                "
                >Swapped</span
              >
              <span
                *ngIf="
                  uniswapDappSharedLogic.tradeContext?.quoteDirection ===
                  tradeDirection.input
                "
              >
                {{ uniswapDappSharedLogic.tradeContext?.baseConvertRequest }}
                {{ uniswapDappSharedLogic.tradeContext?.fromToken?.symbol }} for
                {{ uniswapDappSharedLogic.tradeContext?.expectedConvertQuote }}
                {{ uniswapDappSharedLogic.tradeContext?.toToken?.symbol }}
              </span>

              <span
                *ngIf="
                  uniswapDappSharedLogic.tradeContext?.quoteDirection ===
                  tradeDirection.output
                "
              >
                {{ uniswapDappSharedLogic.tradeContext?.expectedConvertQuote }}
                {{ uniswapDappSharedLogic.tradeContext?.fromToken?.symbol }} for
                {{ uniswapDappSharedLogic.tradeContext?.baseConvertRequest }}
                {{ uniswapDappSharedLogic.tradeContext?.toToken?.symbol }}
              </span>
            </div>
          </div>
          <div>
            <span
              *ngIf="
                uniswapDappSharedLogic.miningTransaction?.status ===
                transactionStatus.waitingForConfirmation
              "
              >Confirm this transaction in your wallet</span
            >
            <button
              *ngIf="
                uniswapDappSharedLogic.miningTransaction?.status ===
                  transactionStatus.mining ||
                uniswapDappSharedLogic.miningTransaction?.status ===
                  transactionStatus.completed
              "
              (click)="uniswapDappSharedLogic.viewOnEtherscan()"
            >
              View tx on etherscan
            </button>
          </div>
        </div>
      </ion-card>

  <ion-card class="ion-justify-content-center"
    *ngIf="uniswapDappSharedLogic.miningTransaction?.status === transactionStatus.rejected">
    <ion-card-content class="ion-justify-content-center">
      <ion-grid class="ion-justify-content-center">
        <ion-row class="ion-justify-content-center">
          <ion-col class="ion-justify-content-center">
            <ion-icon name="warning-sharp"></ion-icon>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-label>Transaction rejected.</ion-label>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-button (click)="uniswapDappSharedLogic.hideTransaction()">
              <ion-label>Dismiss</ion-label>
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
</ion-content>
